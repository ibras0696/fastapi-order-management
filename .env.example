# Copy to `.env` and adjust values for your environment.
# IMPORTANT: do not commit `.env`.

# App
APP_NAME=order-management
APP_ENV=local
LOG_LEVEL=INFO

# API
API_HOST=0.0.0.0
API_PORT=8000

# DB migrations
RUN_MIGRATIONS_ON_STARTUP=true
MIGRATIONS_WAIT_TRIES=60
MIGRATIONS_WAIT_SLEEP_SECONDS=1.0

# Security
SECRET_KEY=change-me-make-it-long-and-random
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS
# Use "*" for local dev, set explicit origins in production (comma-separated).
CORS_ALLOW_ORIGINS=*
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*
CORS_ALLOW_CREDENTIALS=false

# Rate limiting (Token Bucket)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_BACKEND=memory
RATE_LIMIT_CAPACITY=100
RATE_LIMIT_REFILL_RATE=50.0

# PostgreSQL
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=order_management
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-me

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_ORDERS_TTL_SECONDS=300

# RabbitMQ (event-bus)
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_NEW_ORDER_QUEUE=new_order
RABBITMQ_CONSUMER_MAX_RETRIES=5
RABBITMQ_CONSUMER_RETRY_BASE_SECONDS=2.0

# Outbox
OUTBOX_POLL_SECONDS=1.0
OUTBOX_BATCH_SIZE=50
OUTBOX_LEASE_SECONDS=30

# Celery (tasks)
CELERY_BROKER_URL=
CELERY_RESULT_BACKEND=
